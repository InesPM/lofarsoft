#!/bin/sh

## Variables to be adjusted to the local setup

lofarsoft=/var/tmp/lus/code
target_lofarsoft=/var/www/doxygen

## === Do not edit below this point =============================================

export PATH=$PATH:/usr/bin:/usr/local/bin:/opt/local/bin

##_______________________________________________________________________________
##                                 Generate Doxygen documentation for source code


## Define LOFARSOFT environment variable

cd $lofarsoft
export LOFARSOFT=`pwd`

## update working copy of the code and build documentation

cd $lofarsoft/build
./bootstrap
make update
make doc

## move documentation to target directory

echo "-- Packing generated documentation ..."

cd $lofarsoft/doc/html
tar -czf $target_lofarsoft/html.tgz *

echo "-- Copy documentation to target directory ..."

cd $target_lofarsoft
tar -xzf html.tgz
