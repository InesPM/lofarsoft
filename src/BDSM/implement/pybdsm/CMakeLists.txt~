## ----------------------------------------------------------------------
## $Id$
## ----------------------------------------------------------------------

## List of source files

file (GLOB cbdsm_sources *.cc)

add_library (_cbdsm MODULE
  ${cbdsm_sources}
  )

target_link_libraries (_cbdsm 
  minpack
  port3
  ${NUM_UTIL_LIBRARIES}
  ${BOOST_PYTHON_LIBRARY}
  )

set_target_properties (_cbdsm PROPERTIES PREFIX ""
  COMPILE_FLAGS "-Wall -Wextra -Wno-unused"
  LINKER_LANGUAGE C
  )

if (APPLE)
  set_target_properties(_cbdsm PROPERTIES 
    LINK_FLAGS "-undefined dynamic_lookup")
endif (APPLE)

## ======================================================================
##
##  Fortran modules
##
## ======================================================================

## Module : _pytesselate

add_library (_pytesselate MODULE
  pytess_simple.f
  pytess_roundness.f
  dummy.f
  )

target_link_libraries (_pytesselate
  ${PYTHON_LIBRARIES}
  )

set_target_properties (_pytesselate
  PROPERTIES PREFIX ""
  )

## Module: _py2fbdsm

#_py2fbdsm.pyf :  
#        f2py $(OBJ_py2fbdsmf) -m _py2fbdsm -h _py2fbdsm.pyf 
# 
#_py2fbdsm.so: _py2fbdsm.pyf $(OBJ_py2fbdsm) 
#        f2py --fcompiler=gnu95 -c _py2fbdsm.pyf $(OBJ_py2fbdsm) dummy.f 


## ----------------------------------------------------------------------
## Installation

install (TARGETS _cbdsm _pytesselate
  DESTINATION lib/python
  )
