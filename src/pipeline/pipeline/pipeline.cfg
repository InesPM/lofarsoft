[DEFAULT]
runtime_directory = /home/swinbank/Work/pipeline_runtime
recipe_directories = [., /home/swinbank/Work/lofar_pipes/pipeline/master]

[vdsreader]
recipe = vdsreader
gvds = %(runtime_directory)s/jobs/%(job_name)s/vds/%(job_name)s.gvds

[dppp]
recipe = dppp
executable = /opt/LofIm/daily/lofar/bin/IDPPP
initscript = /opt/LofIm/daily/lofar/lofarinit.sh
working_directory = /data/scratch/swinbank
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/dppp.parset
log = dppp.log
dry_run = False

[dppp_pass1]
recipe = dppp
executable = /opt/LofIm/daily/lofar/bin/IDPPP
initscript = /opt/LofIm/daily/lofar/lofarinit.sh
working_directory = /data/scratch/swinbank
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/dppp1.parset
log = dppp1.log
dry_run = False

[dppp_pass2]
recipe = dppp
executable = /opt/LofIm/daily/lofar/bin/IDPPP
initscript = /opt/LofIm/daily/lofar/lofarinit.sh
working_directory = /data/scratch/swinbank
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/dppp2.parset
log = dppp2.log
dry_run = False

[dppp_pass3]
recipe = dppp
executable = /opt/LofIm/daily/lofar/bin/IDPPP
initscript = /opt/LofIm/daily/lofar/lofarinit.sh
working_directory = /data/scratch/swinbank
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/dppp3.parset
log = dppp3.log
dry_run = False

[dppp_pass4]
recipe = dppp
executable = /opt/LofIm/daily/lofar/bin/IDPPP
initscript = /opt/LofIm/daily/lofar/lofarinit.sh
working_directory = /data/scratch/swinbank
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/dppp4.parset
log = dppp4.log
dry_run = False

[exclude_de001lba]
recipe = excluder
station = DE001LBA
suffix = .excluded

[trim_300]
recipe = trimmer
start_seconds = 300
end_seconds = 300
suffix = .trimmed

[bbs]
recipe = bbs
executable = /opt/LofIm/daily/lofar/bin/calibrate
initscript = /opt/LofIm/daily/lofar/lofarinit.sh
working_directory = /data/scratch/swinbank
parset = bbs.parset
key = bbs_%(job_name)s
skymodel = bbs.skymodel
log = bbs.log
db_host = ldb001
db_name = swinbank
db_user = postgres
gvds = %(job_name)s.bbs.gvds
instrument_db = /home/swinbank/Work/instrument
force = True

[local_flag]
recipe = flagger
n_factor = 2.0
suffix = .flagged
skymodel = bbs.skymodel

[mwimager]
recipe = mwimager
executable = /opt/LofIm/daily/lofar/bin/mwimager
initscript = /opt/LofIm/daily/lofar/lofarinit.sh
askapsoft_path = /opt/ASKAPsoft/bin
working_directory = /data/scratch/swinbank
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/mwimager.parset
log = mwimager.log
gvds = %(job_name)s.mwimager.gvds

[collector]
recipe = collector
image_re = image.*Dirty
working_directory = /data/scratch/swinbank
image2fits = /opt/LofIm/daily/casacore/bin/image2fits
qcheck = /home/swinbank/qcheck.py
averaged_name = average.fits

[sourcefinder]
recipe = simple_se

[sextractor]
image2fits = /opt/LofIm/daily/casacore/bin/image2fits
working_directory = /data/scratch/swinbank

[layout]
job_directory = %(runtime_directory)s/jobs/%(job_name)s
log_directory = %(job_directory)s/logs/%(start_time)s
vds_directory = %(job_directory)s/vds
parset_directory = %(job_directory)s/parsets
results_directory = %(job_directory)s/results/%(start_time)s

[cluster]
clustername = imaging
#clusterdesc = /data/sys/opt/lofar/etc/cdesc/imaging.clusterdesc
clusterdesc = /home/swinbank/Work/pipeline_runtime/sub3.clusterdesc
task_furl = %(runtime_directory)s/task.furl
multiengine_furl = %(runtime_directory)s/multiengine.furl

[deploy]
script_path = /home/swinbank/Work/lofar_pipes/deploy

