%% $Id$

\documentclass[a4paper,10pt,bibtotoc]{scrartcl}
\usepackage{a4wide,usg,supertabular}
\usepackage[today,nofancy]{svninfo}

\svnInfo $Id$

\begin{document}

%%_______________________________________________________________________________
%%                                                                      Titlepage

\title{LOFAR User Guide: \\ The Framework Pulsar Pipeline\\
{\large Pulp, Version 1.0} \\ 
{\normalsize Document version 1.0} \\
{\normalsize SVN Repository Revision: \svnInfoRevision}}
\author{K. R. Anderson}
\date{\small{SVN Date: \svnInfoDate}}
\maketitle

\tableofcontents

\clearpage

%%_______________________________________________________________________________
%%                                                                  Change record

\section*{Change record}
\addcontentsline{toc}{section}{Change record}

\begin{center}
  %% Table head
  \tablefirsthead{
    \hline
    \sc Issue & \sc Date & \sc Sections & \sc Description of changes \\
    \hline
  }
  \tablehead{
    \multicolumn{4}{r}{\small\sl continued from previous page} \\
    \hline
    \sc Issue & \sc Date & \sc Sections & \sc Description of changes \\
    \hline
  }
  %% Table tail
  \tabletail{
    \hline
    \multicolumn{4}{r}{\small\sl continued on next page} \\
  }
  \tablelasttail{\hline}
  %% Table contents
  \begin{supertabular}{lllp{10cm}}
    1.0 & 2011-01-31 & all & Initial release \\
  \end{supertabular}
\end{center}

%%_______________________________________________________________________________
%%                                                                   Introduction

\section{Introduction}
\label{sec:introduction}
This document is a User Guide only.

This document describes the basic operations of the framework
pulsar pipeline, known as Pulp (executable: \verb|pulp.py|), as well as
the basic environment required by the framework in order to run the pulp
pipeline. Further documentation on
development under the LOFAR pipeline framework, as well as a schematic
documentation on the Pulp API, are available within the USG repository itself.
Documentation on the Pulp API is available with the Pulp distribution, and is available with the Pulp package download in
\verb|${LOFARSOFT}/src/Pulsar/pipeline/documentation|

The pulp current release under the LOFAR USG repository is located in \\
\verb|$LOFARSOFT/src/Pulsar/pipeline:|
\begin{verbatim}
drwxr-xr-x  15 <user>  staff   510 Jan 30 08:21 documentation/
-rw-r--r--   1 <user>  staff  3614 Jan 28 20:33 dynspec.py
-rw-r--r--   1 <user>  staff  1708 Jan 21 17:16 pipeline.cfg
-rwxr-xr-x   1 <user>  staff  4545 Jan 28 20:34 pulp.py
-rw-r--r--   1 <user>  staff    40 Jan 28 17:28 pulpVersion.py
drwxr-xr-x   5 <user>  staff   170 Nov  1 11:15 recipes/
drwxr-xr-x  22 <user>  staff   748 Jan 29 23:09 support/
-rw-r--r--   1 <user>  staff   789 Jan 28 22:07 tasks.cfgâ‰ˆ
\end{verbatim}

\subsection{Applicable Documents}
The user will find Pulp API documentation under `/documentation'.
Pulp API descriptions can be found within the Pulp distribution and are located
in \verb|./Pulsar/pipeline/documentation|, where the user will find a directory
structure that somewhat mimics the pipeline's recipe  directory structure,
with recipe API documents found under \verb|./pipeline/documentation/|
in `master',`nodes', and `support'.
\begin{verbatim}
.Pulsar/pipeline/documentation/:
-------
drwxr-xr-x  15  <user>   staff    510 Jan 30 09:11 .
drwxr-xr-x  11  <user>   staff    374 Jan 30 08:13 ..
drwxr-xr-x  10  <user>   staff    340 Jan 29 15:39 master/
drwxr-xr-x   6  <user>   staff    204 Jan 29 15:09 nodes/
drwxr-xr-x  13  <user>   staff    442 Jan 29 17:11 support/
\end{verbatim}
where a user will find API documents for the pipeline recipes, and all support
modules.\\
\begin{verbatim}
./master:
-------
 rw-r--r--  ...  bf2presto.html
-rw-r--r--  ...  buildPulsArch.html
-rw-r--r--  ...  buildRSPAll.html
-rw-r--r--  ...  bundleFiles.html
-rw-r--r--  ...  prepareInf.html
-rw-r--r--  ...  prepfold.html
-rw-r--r--  ...  rfiplot.html

./nodes:
------
-rw-r--r--  ...  bf2presto.html
-rw-r--r--  ...  prepfold.html
-rw-r--r--  ...  rfiplot.html

./support:
--------
 rw-r--r--  ...  RSPlist.html
-rw-r--r--  ...  bf2Pars.html
-rw-r--r--  ...  buildRSPS.html
-rw-r--r--  ...  bundlePlots.html
-rw-r--r--  ...  foldingData.html
-rw-r--r--  ...  fullRSP.html
-rw-r--r--  ...  pardata.html
-rw-r--r--  ...  prepInfFiles.html
-rw-r--r--  ...  pulpEnv.html
-rw-r--r--  ...  rfiDirectories.html
\end{verbatim}
These are accessible and viewable through any browser.

\subsection{Reference Documents}
For documentation on the framework itself, as well as guidance on recipe writing,
the user is invited to examine the framework documenation available in the 
repository under \verb|$LOFARSOFT/src/pipeline|, which provides framework
libraries as well as the standard imaging pipeline (sip) recipes.

\subsection{Package Overview}
\label{sec:package}
Table \ref{tab:recipeTable} presents the overall organisation of the Pulp
pulsar pipeline package.

\begin{table}[ht]
\centering
\begin{tabular}{rcl|}
\hline
\textsc{Head Node Recipe} &\textsc{Compute Node Recipe}&\textsc{Support Modules}\\
\hline \hline
buildPulsArch & --- & buildRSPS,RSPlist\\
    bf2presto & bf2presto & bf2Pars, pulpEnv\\
  buildRSPALL &    ---    & fullRSP, pulpEnv\\
   prepareInf &    ---    & prepareInfFiles, pulpEnv\\
     prepfold & prepfold  & pulpEnv\\
      rfiplot & rfiplot   & rfiDirectories, pulpEnv\\
  bundleFiles &    ---    & bundlePlots, pulpEnv\\
    \hline
  \end{tabular}
  \caption{Pulp distribution and recipe relations}
  \label{tab:recipeTable}
\end{table}



\subsection{Glossary}
\begin{itemize}
\item \textbf{API} -- application programming interface (!Anton Pannekoek Instituut).
\item \textbf{Pulp}-- the ``pulsar pipeline'' under the LOFAR pipeline framework.
\end{itemize}



%%_______________________________________________________________________________
%%                                                                   Requirements

\section{Requirements}
\label{sec:requirements}

---/---

%%_______________________________________________________________________________
%%                                                  High Level Data Specification

\section{High Level Data Specification}
\label{sec:structure}


%%_______________________________________________________________________________
%%                                                    Detailed Data Specification

\section{Detailed Data Specification}


%%_______________________________________________________________________________
%%                                                                     Interfaces

\section{Interfaces}
\label{sec:interfaces}

---/---

\subsection{Interface requirements}

---/---

\subsection{Relation to other workpackages}

---/---

%% ------------------------------------------------------------------------------

\section{Changelog}
\label{sec:changelog}

---/---

%% ------------------------------------------------------------------------------

\section{Discussion}
\label{sec:discussion}

---/---

\subsection{Open questions}
\label{sec:open-questions}

---/---

\subsection{Future enhancements}
\label{sec:future-enhancements}

---/---

%% ------------------------------------------------------------------------------
%% References



\end{document}

