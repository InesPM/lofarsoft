<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>

<head>
<title>LOFAR User Software :: Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>

<a name="top"></a>
<hr>
<h1 align=center>LOFAR User Software</h1>
<hr>

<!-- New section --------------------------------------------------------------->

<div class='section'>Contents and references</div>

<ul>
  <li><a href="#Quick start">Quick start</a></li>
  <li><a href="#code tree">Organization of the code</a></li>
  <li><a href="#External dependencies">External dependencies</a></li>
</ul>

Online resources:

<ul>
  <li><a href="http://www.lofar.org/wiki/doku.php?id=public:user_software:user_software">User
  Software documentation on the LOFAR Wiki</a></li>
  <li><a href="http://svn.astron.nl/CDash/index.php">Testing
  Dashboard</a></li>
  <li><a href="https://support.astron.nl/lofar_issuetracker">Issue Tracker</a></li>
</ul>

<div class='section'><a name="Quick start">Quick start</a></div>

<ol>
  
  <li>As read-only access to the repository is not restricted in any ways,
  you can obtain a working copy of the source code by running
  
  <ul>
    <li>using <a href="http://subversion.apache.org">Subversion</a>...
    <pre class="code">svn co http://usg.lofar.org/svn/code/trunk lofarsoft</pre>
    </li>
    <li>using <a href="http://git-scm.com">Git</a>...
    <pre class="code">git svn clone http://usg.lofar.org/svn/code/trunk lofarsoft</pre>
    </li>
  </ul>
  
  <li>Once checkout from the repository is complete, first set up your environment:
  
  <pre class="code">
  # csh, tcsh
  setenv LOFARSOFT <root directory of code tree>
  source $LOFARSOFT/devel_common/scripts/init.csh
  
  # sh, bash
  export LOFARSOFT=<root directory of code tree>
  . $LOFARSOFT/devel_common/scripts/init.sh
  </pre>

  <li>Bootstrap your working copy of the software:
  <pre class="code">
  ./bootstrap
  </pre>
  The the main job of the bootstrap script is to check whether or not a recent
  enough version of <a href="http://www.cmake.org">CMake</a> is
  installed on your system; if the found installation is too old or not
  available at all, a build from the provided sources is triggered and
  the resulting executables will be installed into "release/bin" (which
  of course then should be in your PATH).

  <li>Change into the <code>build</code> directory in order to build
  the software package you are interested in:
  <pre class="code">
  cd build
  make &lt;target&gt;
  </pre>
  In order to get a list of possible build targets, type
  <pre class="code">
  make help
  </pre>
</ol>

<div class="top">[<a href="#top">top</a>]</div>

<!-- New section --------------------------------------------------------------->

<div class='section'><a name="code tree">Organization of the code</a></div>

Once the check-out is completed, you will find the following directory structure
on your disk:

<pre class='code'>
  lofarsoft
  |-- data
  |-- doc
  |-- release
  |-- build
  |-- devel_common
  |   |-- cmake
  |   |-- scripts
  |   `-- templates
  |-- external
  |   |-- cfitsio
  |   |-- casacore
  |   |-- hdf5
  |   |-- plplot
  |   |-- swig
  |   `-- wcslib
  `-- src
      |-- contrib
      |-- CR-Tools
      |-- DAL
      |-- LASA
      |-- pipeline
      |-- pybdsm
      `-- RM
</pre>

<table border="0">
  <tr valign="top">
    <td><strong>lofarsoft</strong></td>
    <td>Root of the User Software code tree - go there if you want to
      synchronize your local working version against the repository.</td>
  </tr>
  <tr valign="top">
    <td><strong>build</strong></td>
    <td>Directory used for building individual
      packages in the code distribution; using a separate directory for
      this purpose makes it easy to simply erase all compile and link
      attempts and start again from a clean plate.</td>
  </tr>
  <tr valign="top">
    <td><strong>devel_common</strong></td>
    <td>Directory holding common tools for development; this includes
      e.g. the find scripts for CMake or file templates for creating
      new C++ classes. Unless you consider collaborating on the
      framework, you will not need to touch this (but you will need it).</td>
  </tr>
  <tr valign="top">
    <td><strong>doc</strong></td>
    <td>Local version of the Doxygen-based source code documentation.</td>
  </tr>
  <tr valign="top">
    <td><strong>external</strong></td>
    <td>Hosts the various external 3rd-party packages which will be
      required to build parts of the LOFAR User Software.</td> 
    </tr>
  <tr valign="top">
    <td><strong>src</strong></td>
    <td>Contains the source code of the various
  projects and packages developed and written within the framework of
  the LUS.</td>
  </tr>
  <tr valign="top">
    <td><strong></strong></td>
    <td></td>
  </tr>
</table>
  
<div class="top">[<a href="#top">top</a>]</div>

<!-- New section --------------------------------------------------------------->

<div class='section'><a name="External dependencies">External dependencies</a></div>

Most of the required external software packages can be installed via the
respective package manager; the table below lists the most important
dependencies and their respective packages for the main set of
targeted platforms.

<center>
<table>
  <tr>
    <td bgcolor="#dddddd">Package</td>
    <td class="indexvalue">Ubuntu</td>
    <td class="indexvalue">Debian</td>
    <td class="indexvalue">Fedora</td>
    <td class="indexvalue">OpenSuSE</td>
    <td bgcolor="#dddddd">Comment</td>
  </tr>
  <tr>
    <td class="indexvalue">CMake</td>
    <td>cmake</td>
    <td>cmake</td>
    <td>cmake</td>
    <td>cmake</td>
    <td>Required for configuration and build</td>
  </tr>
  <tr>
    <td class="indexvalue">Git</td>
    <td>git-svn</td>
    <td>git-svn</td>
    <td>git-svn</td>
    <td>git-svn</td>
    <td>Required for checking out source code.</td>
  </tr>
  <tr>
    <td class="indexvalue">Subversion</td>
    <td>subversion</td>
    <td>subversion</td>
    <td>subversion</td>
    <td>subversion</td>
    <td>Required for checking out source code.</td>
  </tr>
  <tr>
    <td class="indexvalue">Doxygen</td>
    <td>doxygen</td>
    <td>doxygen</td>
    <td>doxygen</td>
    <td>doxygen</td>
    <td>Generation of source code documentation.</td>
  </tr>
  <tr>
    <td class="indexvalue">Flex</td>
    <td>flex</td>
    <td>flex</td>
    <td>flex</td>
    <td>flex</td>
    <td></td>
  </tr>
  <tr>
    <td class="indexvalue">Bison</td>
    <td>bison</td>
    <td>bison</td>
    <td>bison</td>
    <td>bison</td>
    <td></td>
  </tr>

</table>
</center>

<ul>
  <li><strong>Debian GNU Linux 6.x / Ubuntu Linux 10.04 LTS / Ubuntu Linux 11.10</strong>
  <pre class="code">
  apt-get install cmake git-svn subversion
  apt-get install build-essential gfortran bison flex swig
  apt-get install libblas-dev liblapack-dev libboost-all-dev libqt4-dev libcppunit-dev
  apt-get install libarmadillo-dev libitpp-dev libfftw3-dev libhdf5-serial-dev
  apt-get install libcfitsio3-dev libplplot-dev libgsl0-dev libpng12-dev
  apt-get install python-dev python-numpy ipython
  </pre>
  <li><strong>Mac OS X</strong>
  <ol>
    <li>First install the GNU C/C++ compiler optimized for OSX provided by
    <a hef="http://www.apple.com">Apple</a> as part of the X Code Integrated
    Development Environment.
    <li>You can either use the OSX Installation DVD which came with your Mac or
    <a href="http://developer.apple.com/technologies/xcode.html">download</a>
    it from the Apple website.
    <li>Double click the package and follow the installation instructions.
    Then run <i>Software Update</i> from the Apple menu to ensure you have the
    latest version of all libraries.
  </ol>
  <li><strong>Fedora 14 / Fedora 15 / Fedora 16</strong>
  <pre class="code">
  yum install cmake git-svn subversion gcc-gfortran libgfortran flex bison
  yum install blas-devel lapack-devel boost-devel qt-devel fftw-devel cppunit-devel
  yum install gsl-devel plplot-devel armadillo-devel hdf5-devel cfitsio-devel
  yum install swig numpy pyfits ipython
  </pre>
  <li><strong>OpenSuSE 11.4</strong>
  <pre class="code">
  yast2 --install cmake git-svn subversion bison flex
  yast2 --install blas lapack boost-devel libcfitsio-devel gsl-devel libcppunit-devel
  yast2 --install python-devel python-numpy-devel ipython
  </pre>
  If you'd rather work from the terminal only:
  <pre class="code">
  zypper install cmake git-svn subversion bison flex
  zypper install blas lapack boost-devel libcfitsio-devel gsl-devel libcppunit-devel
  zypper install python-devel python-numpy-devel ipython
  </pre>
</ul>

<div class="top">[<a href="#top">top</a>]</div>

</body>

</html>

