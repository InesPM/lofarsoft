<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>

<head>
<title>LOFAR User Software :: Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>

<a name="top"></a>
<hr>
<h1 align=center>LOFAR User Software</h1>
<hr>

<!-- New section --------------------------------------------------------------->

<div class='section'>Contents and references</div>

<ul>
  <li><a href="#Quick start">Quick start</a></li>
  <li><a href="#code tree">Organization of the code</a></li>
  <li><a href="#External dependencies">External dependencies</a></li>
</ul>

Online resources:

<ul>
  <li><a href="http://www.lofar.org/wiki/doku.php?id=public:user_software:user_software">User
  Software documentation on the LOFAR Wiki</a></li>
  <li><a href="http://svn.astron.nl/CDash/index.php">Testing
  Dashboard</a></li>
  <li><a href="https://support.astron.nl/lofar_issuetracker">Issue Tracker</a></li>
</ul>

<div class='section'><a name="Quick start">Quick start</a></div>

As read-only access to the repository is not restricted in any ways,
you can obtain a working copy of the source code by running

<ul>
  <li>using <a href="http://subversion.apache.org">Subversion</a>...
  <pre class="code">svn co http://usg.lofar.org/svn/code/trunk lofarsoft</pre>
  </li>
  <li>using <a href="http://git-scm.com">Git</a>...
  <pre class="code">git svn clone http://usg.lofar.org/svn/code/trunk lofarsoft</pre>
  </li>
</ul>

Once checkout from the repository is complete, first set up your environment:

<pre class='code'>
# csh, tcsh
setenv LOFARSOFT <root directory of code tree>
source $LOFARSOFT/devel_common/scripts/init.csh

# sh, bash
export LOFARSOFT=<root directory of code tree>
. $LOFARSOFT/devel_common/scripts/init.sh
</pre>

Then change into the "build" directory to run the bootstrap script:

<pre class='code'>
cd build
./bootstrap
</pre>

The the main job of the bootstrap script is to check whether or not a recent
enough version of <a href="http://www.cmake.org">CMake</a> is
installed on your system; if the found installation is too old or not
available at all, a build from the provided sources is triggered and
the resulting executables will be installed into "release/bin" (which
of course then should be in your PATH).

In order to get a list of possible build targets, type

<pre class='code'>
make help
</pre>

Running 

<pre class='code'>
make <target>
</pre>

will try to build the selected target -- including, where required, required
packages.

<div class="top">[<a href="#top">top</a>]</div>

<!-- New section --------------------------------------------------------------->

<div class='section'><a name="code tree">Organization of the code</a></div>

Once the check-out is completed, you will find the following directory structure
on your disk:

<pre class='code'>
  lofarsoft
  |-- data
  |-- doc
  |-- release
  |-- build
  |-- devel_common
  |   |-- cmake
  |   |-- scripts
  |   `-- templates
  |-- external
  |   |-- cfitsio
  |   |-- casacore
  |   |-- hdf5
  |   |-- plplot
  |   |-- swig
  |   `-- wcslib
  `-- src
      |-- contrib
      |-- CR-Tools
      |-- DAL
      |-- LASA
      |-- pipeline
      |-- pybdsm
      `-- RM
</pre>

In this:

<ul>
  <li><strong>lofarsoft</strong> : Root of the User Software code tree
  - go there if you want to synchronize your local working version
  against the repository.</li>
  <li><strong>build</strong> : Directory used for building individual
  packages in the code distribution; using a separate directory for
  this purpose makes it easy to simply erase all compile and link
  attempts and start again from a clean plate.</li>
  <li><strong>devel_common</strong> : Directory holding common tools
  for development; this includes e.g. the find scripts for CMake or
  file templates for creating new C++ classes. Unless you consider
  collaborating on the framework, you will not need to touch this (but
  you will need it).</li>
  <li><strong>doc</strong> : Local version of the Doxygen-based source
  code documentation.</li>
  <li><strong>external</strong> : Hosts the various external 3rd-party
  packages which will be required to build parts of the LOFAR User
  Software.</li>
  <li><strong>src</strong> : Contains the source code of the various
  projects and packages developed and written within the framework of
  the LUS.</li>
</ul>

<div class="top">[<a href="#top">top</a>]</div>

<!-- New section --------------------------------------------------------------->

<div class='section'><a name="External dependencies">External dependencies</a></div>

Most of the required external software packages can be installed via the
respective package manager:

<ul>
  <li><strong>Debian GNU Linux 6.x / Ubuntu Linux 10.04 LTS / Ubuntu Linux 11.10</strong>
  <pre>
  apt-get install build-essential gfortran git-svn cmake subversion flex bison swig
  apt-get install libblas-dev liblapack-dev libboost-all-dev libqt4-dev
  apt-get install libarmadillo-dev libitpp-dev libfftw3-dev libhdf5-serial-dev
  apt-get install libcfitsio3-dev libplplot-dev libgsl0-dev python-numpy ipython
  </pre>
  
  <li><strong>Fedora 14 / Fedora 15 / Fedora 16</strong>
  <pre>
  yum install cmake git-svn subversion gcc-gfortran libgfortran flex bison
  yum install blas-devel lapack-devel boost-devel qt-devel fftw-devel
  yum install gsl-devel plplot-devel armadillo-devel hdf5-devel cfitsio-devel
  yum install swig numpy pyfits ipython
  </pre>
  <li><strong>OpenSuSE 11.4</strong>
  <pre>
  yast2 --install cmake git-svn subversion bison flex
  yast2 --install blas lapack boost-devel libcfitsio-devel gsl-devel
  yast2 --install python-devel python-numpy-devel
  </pre>
  If you'd rather work from the terminal only:
  <pre>
  zypper install cmake git-svn subversion bison flex
  zypper install blas lapack boost-devel libcfitsio-devel gsl-devel libqt4-devel
  zypper install python-devel python-numpy-devel
  </pre>
</ul>

<div class="top">[<a href="#top">top</a>]</div>

</body>

</html>

